<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta name="color-scheme" content="light">
    <title>Cadastro - Espia WhatsApp</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/register.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}">
</head>
<body>
    <div class="container">
        <header>
            <img src="{{ url_for('static', filename='logo.png') }}" alt="Logo Espia WhatsApp" class="logo">
            <p class="slogan">Comece agora a monitorar com segurança!</p>
        </header>
        <main>
            <section class="register-section">
                <h2>Cadastre-se e Proteja Quem Você Ama</h2>
                <p>Crie sua conta e comece a monitorar conversas do WhatsApp de forma discreta e segura.</p>
                {% if erro %}
                    <p class="erro">{{ erro }}</p>
                {% endif %}
                <form method="post" class="register-form" onsubmit="return validarSenha()">
                    <label for="username">Número de WhatsApp (ex.: +5512345678900):</label>
                    <input type="text" name="username" id="username" required placeholder="+5512345678900">
                    <label for="whatsapp_pai">Confirme o WhatsApp do Responsável:</label>
                    <input type="text" name="whatsapp_pai" id="whatsapp_pai" required placeholder="+5512345678900">
                    <label for="password">Senha:</label>
                    <input type="password" name="password" id="password" required placeholder="Crie uma senha segura">
                    <label for="confirm_password">Confirme a Senha:</label>
                    <input type="password" name="confirm_password" id="confirm_password" required placeholder="Confirme sua senha">
                    <p class="senha-requisitos">A senha deve ter pelo menos 8 caracteres, 1 letra maiúscula e 1 número.</p>
                    <button type="submit" class="btn-register">Cadastrar</button>
                </form>
                <p class="login-link">Já tem conta? <a href="{{ url_for('login') }}">Faça login</a></p>
            </section>
        </main>
        <footer>
            <p>© 2025 Espia WhatsApp. Todos os direitos reservados.</p>
        </footer>
    </div>
    <script>
        function validarSenha() {
            const password = document.getElementById("password").value;
            const confirmPassword = document.getElementById("confirm_password").value;
            const requisitos = /^(?=.*[A-Z])(?=.*\d).{8,}$/;
            if (!requisitos.test(password)) {
                alert("A senha deve ter pelo menos 8 caracteres, com 1 letra maiúscula e 1 número.");
                return false;
            }
            if (password !== confirmPassword) {
                alert("As senhas não coincidem.");
                return false;
            }
            return true;
        }
    </script>
</body>
</html>
